2025-11-03 17:39:39 [main] INFO  c.example.demo.TheFullApiApplication - Starting TheFullApiApplication using Java 17.0.15 with PID 12952 (C:\Users\손경원\eclipse-workspace\the-full-api\bin\main started by 손경원 in C:\Users\손경원\eclipse-workspace\the-full-api)
2025-11-03 17:39:39 [main] DEBUG c.example.demo.TheFullApiApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-11-03 17:39:39 [main] INFO  c.example.demo.TheFullApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-03 17:39:40 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-11-03 17:39:40 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.demo'
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\AccountMapper.class]
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\BusinessMapper.class]
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\HeadOfficeMapper.class]
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\OperateMapper.class]
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\UserMapper.class]
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'accountMapper' and 'com.example.demo.mapper.AccountMapper' mapperInterface
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'businessMapper' and 'com.example.demo.mapper.BusinessMapper' mapperInterface
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'headOfficeMapper' and 'com.example.demo.mapper.HeadOfficeMapper' mapperInterface
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'operateMapper' and 'com.example.demo.mapper.OperateMapper' mapperInterface
2025-11-03 17:39:40 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.demo.mapper.UserMapper' mapperInterface
2025-11-03 17:39:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-03 17:39:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-03 17:39:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-03 17:39:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-03 17:39:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-03 17:39:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1013 ms
2025-11-03 17:39:40 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\AccountMapper.xml]'
2025-11-03 17:39:40 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\BusinessMapper.xml]'
2025-11-03 17:39:40 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\HeadOfficeMapper.xml]'
2025-11-03 17:39:41 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\OperateMapper.xml]'
2025-11-03 17:39:41 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\UserMapper.xml]'
2025-11-03 17:39:42 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-03 17:39:42 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-03 17:39:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-03 17:39:42 [main] INFO  c.example.demo.TheFullApiApplication - Started TheFullApiApplication in 3.349 seconds (process running for 3.831)
2025-11-03 17:40:39 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-11-03 17:40:39 [RMI TCP Connection(4)-127.0.0.1] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-03 17:40:39 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-03 17:40:39 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-03 17:40:39 [RMI TCP Connection(4)-127.0.0.1] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-03 17:40:52 [main] INFO  c.example.demo.TheFullApiApplication - Starting TheFullApiApplication using Java 17.0.15 with PID 26968 (C:\Users\손경원\eclipse-workspace\the-full-api\bin\main started by 손경원 in C:\Users\손경원\eclipse-workspace\the-full-api)
2025-11-03 17:40:52 [main] DEBUG c.example.demo.TheFullApiApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-11-03 17:40:52 [main] INFO  c.example.demo.TheFullApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-03 17:40:53 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-11-03 17:40:53 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.demo'
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\AccountMapper.class]
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\BusinessMapper.class]
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\HeadOfficeMapper.class]
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\OperateMapper.class]
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\UserMapper.class]
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'accountMapper' and 'com.example.demo.mapper.AccountMapper' mapperInterface
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'businessMapper' and 'com.example.demo.mapper.BusinessMapper' mapperInterface
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'headOfficeMapper' and 'com.example.demo.mapper.HeadOfficeMapper' mapperInterface
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'operateMapper' and 'com.example.demo.mapper.OperateMapper' mapperInterface
2025-11-03 17:40:53 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.demo.mapper.UserMapper' mapperInterface
2025-11-03 17:40:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-03 17:40:53 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-03 17:40:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-03 17:40:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-03 17:40:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-03 17:40:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 849 ms
2025-11-03 17:40:53 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\AccountMapper.xml]'
2025-11-03 17:40:53 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\BusinessMapper.xml]'
2025-11-03 17:40:53 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\HeadOfficeMapper.xml]'
2025-11-03 17:40:53 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\OperateMapper.xml]'
2025-11-03 17:40:53 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\UserMapper.xml]'
2025-11-03 17:40:53 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:40:53 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13278a41] was not registered for synchronization because synchronization is not active
2025-11-03 17:40:53 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:40:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-03 17:40:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@12e007be
2025-11-03 17:40:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-03 17:40:54 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1934234778 wrapping com.mysql.cj.jdbc.ConnectionImpl@12e007be] will not be managed by Spring
2025-11-03 17:40:54 [main] DEBUG c.e.d.m.A.BatchForPayBack - ==>  Preparing: SELECT account_id, total_days, total_days * 0.15 AS payback_price, count_year as year, count_month as month FROM ( SELECT account_id, (COALESCE(day_1, 0) + COALESCE(day_2, 0) + COALESCE(day_3, 0) + COALESCE(day_4, 0) + COALESCE(day_5, 0) + COALESCE(day_6, 0) + COALESCE(day_7, 0) + COALESCE(day_8, 0) + COALESCE(day_9, 0) + COALESCE(day_10, 0) + COALESCE(day_11, 0) + COALESCE(day_12, 0) + COALESCE(day_13, 0) + COALESCE(day_14, 0) + COALESCE(day_15, 0) + COALESCE(day_16, 0) + COALESCE(day_17, 0) + COALESCE(day_18, 0) + COALESCE(day_19, 0) + COALESCE(day_20, 0) + COALESCE(day_21, 0) + COALESCE(day_22, 0) + COALESCE(day_23, 0) + COALESCE(day_24, 0) + COALESCE(day_25, 0) + COALESCE(day_26, 0) + COALESCE(day_27, 0) + COALESCE(day_28, 0) + COALESCE(day_29, 0) + COALESCE(day_30, 0) + COALESCE(day_31, 0) ) AS total_days, count_year, count_month FROM tb_account_tally_sheet WHERE count_year = ? AND count_month = ? AND type = 2 ) AS t
2025-11-03 17:40:54 [main] DEBUG c.e.d.m.A.BatchForPayBack - ==> Parameters: 2025(Integer), 11(String)
2025-11-03 17:40:54 [main] DEBUG c.e.d.m.A.BatchForPayBack - <==      Total: 0
2025-11-03 17:40:54 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13278a41]
2025-11-03 17:40:55 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-03 17:40:55 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-03 17:40:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-03 17:40:55 [main] INFO  c.example.demo.TheFullApiApplication - Started TheFullApiApplication in 2.998 seconds (process running for 3.44)
2025-11-03 17:41:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-03 17:41:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-03 17:41:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd12fc1] was not registered for synchronization because synchronization is not active
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1893495331 wrapping com.mysql.cj.jdbc.ConnectionImpl@12e007be] will not be managed by Spring
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG c.e.d.m.H.PeopleCountingList - ==>  Preparing: SELECT a.account_id , a.account_name , adn.diner_date , ifnull(adn.total,0) as total FROM tb_account a LEFT OUTER JOIN tb_account_diners_number adn ON adn.account_id = a.account_id AND adn.diner_year = ? AND adn.diner_month = ? ORDER BY a.account_id, diner_date ASC
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG c.e.d.m.H.PeopleCountingList - ==> Parameters: 2025(String), 11(String)
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG c.e.d.m.H.PeopleCountingList - <==      Total: 88
2025-11-03 17:41:11 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd12fc1]
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c3a2ce] was not registered for synchronization because synchronization is not active
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@69427038 wrapping com.mysql.cj.jdbc.ConnectionImpl@12e007be] will not be managed by Spring
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - ==>  Preparing: SELECT account_id, account_name, concat(ifnull(account_address,''), ' ', ifnull(account_address_detail,'')) as account_address, case account_type when 1 then '위탁급식' when 2 then '도소매' when 3 then '프랜차이즈' when 4 then '산업체' else '미분류' end as account_type, account_rqd_member, account_headcount FROM tb_account WHERE account_type in (1,2,4) ORDER BY account_type DESC
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - ==> Parameters: 
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - <==      Total: 56
2025-11-03 17:41:12 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c3a2ce]
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffac950] was not registered for synchronization because synchronization is not active
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@20788959 wrapping com.mysql.cj.jdbc.ConnectionImpl@12e007be] will not be managed by Spring
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - ==>  Preparing: SELECT account_id, year, month, ifnull(living_estimate,0) as living_estimate, ifnull(living_estimate_ratio,0) as living_estimate_ratio, ifnull(basic_estimate,0) as basic_estimate, ifnull(basic_estimate_ratio,0) as basic_estimate_ratio, ifnull(living_cost,0) as living_cost, ifnull(living_ratio,0) as living_ratio, ifnull(basic_cost,0) as basic_cost, ifnull(basic_ratio,0) as basic_ratio, ifnull(employ_cost,0) as employ_cost, ifnull(employ_ratio,0) as employ_ratio, ifnull(daycare_cost,0) as daycare_cost, ifnull(daycare_ratio,0) as daycare_ratio, ifnull(daycare_emp_cost,0) as daycare_emp_cost, ifnull(daycare_emp_ratio,0) as daycare_emp_ratio, ifnull(payback_price,0) as payback_price, ifnull(payback_ratio,0) as payback_ratio, ifnull(duty_secure,0) as duty_secure, ifnull(duty_secure_ratio,0) as duty_secure_ratio, ifnull(food_process,0) as food_process, ifnull(food_trash_ratio,0) as food_trash_ratio, ifnull(dishwasher,0) as dishwasher, ifnull(dishwasher_ratio,0) as dishwasher_ratio, ifnull(cesco,0) as cesco, ifnull(cesco_ratio,0) as cesco_ratio, ifnull(water_puri,0) as water_puri, ifnull(water_ratio,0) as water_ratio, ifnull(utility_bills,0) as utility_bills, ifnull(utility_ratio,0) as utility_ratio, ifnull(food_cost,0) as food_cost, ifnull(food_ratio,0) as food_ratio, ifnull(etc_cost,0) as etc_cost, ifnull(estimate_total,0) as estimate_total, ifnull(estimate_total_ratio,0) as estimate_total_ratio, ifnull(dispatch_cost,0) as dispatch_cost, ifnull(dispatch_ratio,0) as dispatch_ratio, ifnull(person_cost,0) as person_cost, ifnull(person_ratio,0) as person_ratio, ifnull(sales_total,0) as sales_total, ifnull(sales_total_ratio,0) as sales_total_ratio, ifnull(purchase_total,0) as purchase_total, ifnull(purchase_total_ratio,0) as purchase_total_ratio, ifnull(person_total,0) as person_total, ifnull(person_total_ratio,0) as person_total_ratio, ifnull(indirect_total,0) as indirect_total, ifnull(indirect_total_ratio,0) as indirect_total_ratio, ifnull(business_profit,0) as business_profit, ifnull(business_profit_ratio,0) as business_profit_ratio, DATE_FORMAT(update_dt, '%Y-%m-%d') AS update_dt FROM the_full.tb_account_managerment_table WHERE year = ? AND account_id = ?
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - ==> Parameters: 2025(String), 20250819193455(String)
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - <==      Total: 2
2025-11-03 17:41:12 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ffac950]
2025-11-03 17:42:11 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-11-03 17:42:11 [RMI TCP Connection(5)-127.0.0.1] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-03 17:42:11 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-03 17:42:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-03 17:42:11 [RMI TCP Connection(5)-127.0.0.1] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-03 17:42:11 [RMI TCP Connection(5)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-03 17:42:11 [RMI TCP Connection(5)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-03 17:42:17 [main] INFO  c.example.demo.TheFullApiApplication - Starting TheFullApiApplication using Java 17.0.15 with PID 20800 (C:\Users\손경원\eclipse-workspace\the-full-api\bin\main started by 손경원 in C:\Users\손경원\eclipse-workspace\the-full-api)
2025-11-03 17:42:17 [main] DEBUG c.example.demo.TheFullApiApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-11-03 17:42:17 [main] INFO  c.example.demo.TheFullApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-03 17:42:17 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-11-03 17:42:17 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.example.demo'
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\AccountMapper.class]
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\BusinessMapper.class]
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\HeadOfficeMapper.class]
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\OperateMapper.class]
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\com\example\demo\mapper\UserMapper.class]
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'accountMapper' and 'com.example.demo.mapper.AccountMapper' mapperInterface
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'businessMapper' and 'com.example.demo.mapper.BusinessMapper' mapperInterface
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'headOfficeMapper' and 'com.example.demo.mapper.HeadOfficeMapper' mapperInterface
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'operateMapper' and 'com.example.demo.mapper.OperateMapper' mapperInterface
2025-11-03 17:42:17 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.example.demo.mapper.UserMapper' mapperInterface
2025-11-03 17:42:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-03 17:42:18 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-03 17:42:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-03 17:42:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-03 17:42:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-03 17:42:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 826 ms
2025-11-03 17:42:18 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\AccountMapper.xml]'
2025-11-03 17:42:18 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\BusinessMapper.xml]'
2025-11-03 17:42:18 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\HeadOfficeMapper.xml]'
2025-11-03 17:42:18 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\OperateMapper.xml]'
2025-11-03 17:42:18 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [C:\Users\손경원\eclipse-workspace\the-full-api\bin\main\mybatis-mapper\UserMapper.xml]'
2025-11-03 17:42:18 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:42:18 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e952845] was not registered for synchronization because synchronization is not active
2025-11-03 17:42:18 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:42:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-03 17:42:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@994544
2025-11-03 17:42:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-03 17:42:18 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1251502504 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:42:18 [main] DEBUG c.e.d.m.A.BatchForPayBack - ==>  Preparing: SELECT account_id, total_days, total_days * 0.15 AS payback_price, count_year as year, count_month as month FROM ( SELECT account_id, (COALESCE(day_1, 0) + COALESCE(day_2, 0) + COALESCE(day_3, 0) + COALESCE(day_4, 0) + COALESCE(day_5, 0) + COALESCE(day_6, 0) + COALESCE(day_7, 0) + COALESCE(day_8, 0) + COALESCE(day_9, 0) + COALESCE(day_10, 0) + COALESCE(day_11, 0) + COALESCE(day_12, 0) + COALESCE(day_13, 0) + COALESCE(day_14, 0) + COALESCE(day_15, 0) + COALESCE(day_16, 0) + COALESCE(day_17, 0) + COALESCE(day_18, 0) + COALESCE(day_19, 0) + COALESCE(day_20, 0) + COALESCE(day_21, 0) + COALESCE(day_22, 0) + COALESCE(day_23, 0) + COALESCE(day_24, 0) + COALESCE(day_25, 0) + COALESCE(day_26, 0) + COALESCE(day_27, 0) + COALESCE(day_28, 0) + COALESCE(day_29, 0) + COALESCE(day_30, 0) + COALESCE(day_31, 0) ) AS total_days, count_year, count_month FROM tb_account_tally_sheet WHERE count_year = ? AND count_month = ? AND type = 2 ) AS t
2025-11-03 17:42:18 [main] DEBUG c.e.d.m.A.BatchForPayBack - ==> Parameters: 2025(Integer), 10(String)
2025-11-03 17:42:18 [main] DEBUG c.e.d.m.A.BatchForPayBack - <==      Total: 1
2025-11-03 17:42:18 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e952845]
2025-11-03 17:42:18 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:42:18 [main] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ce7fdf] was not registered for synchronization because synchronization is not active
2025-11-03 17:42:18 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:42:18 [main] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@51705243 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:42:18 [main] DEBUG c.e.d.m.H.ProfitLossTableSave - ==>  Preparing: INSERT INTO tb_account_managerment_table ( account_id, year, month, living_estimate, living_estimate_ratio, basic_estimate, basic_estimate_ratio, living_cost, living_ratio, basic_cost, basic_ratio, employ_cost, employ_ratio, daycare_cost, daycare_ratio, daycare_emp_cost, daycare_emp_ratio, payback_price, payback_ratio, duty_secure, duty_secure_ratio, food_process, food_trash_ratio, dishwasher, dishwasher_ratio, cesco, cesco_ratio, water_puri, water_ratio, utility_bills, utility_ratio, food_cost, food_ratio, etc_cost, estimate_total, estimate_total_ratio, dispatch_cost, dispatch_ratio, person_cost, person_ratio, sales_total, sales_total_ratio, purchase_total, purchase_total_ratio, person_total, person_total_ratio, indirect_total, indirect_total_ratio, business_profit, business_profit_ratio, update_dt ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, NOW() ) ON DUPLICATE KEY UPDATE payback_price = ?, update_dt = NOW()
2025-11-03 17:42:18 [main] DEBUG c.e.d.m.H.ProfitLossTableSave - ==> Parameters: 20250819193455(String), 2025(String), 10(String), null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1671309.00(BigDecimal), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1671309.00(BigDecimal)
2025-11-03 17:42:18 [main] DEBUG c.e.d.m.H.ProfitLossTableSave - <==    Updates: 2
2025-11-03 17:42:18 [main] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ce7fdf]
2025-11-03 17:42:19 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-11-03 17:42:19 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-03 17:42:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-03 17:42:19 [main] INFO  c.example.demo.TheFullApiApplication - Started TheFullApiApplication in 2.928 seconds (process running for 3.38)
2025-11-03 17:42:23 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-03 17:42:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-03 17:42:23 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c51c76] was not registered for synchronization because synchronization is not active
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1893261467 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG c.e.d.m.H.PeopleCountingList - ==>  Preparing: SELECT a.account_id , a.account_name , adn.diner_date , ifnull(adn.total,0) as total FROM tb_account a LEFT OUTER JOIN tb_account_diners_number adn ON adn.account_id = a.account_id AND adn.diner_year = ? AND adn.diner_month = ? ORDER BY a.account_id, diner_date ASC
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG c.e.d.m.H.PeopleCountingList - ==> Parameters: 2025(String), 11(String)
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG c.e.d.m.H.PeopleCountingList - <==      Total: 88
2025-11-03 17:42:23 [http-nio-8080-exec-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c51c76]
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4730efdb] was not registered for synchronization because synchronization is not active
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@111418846 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - ==>  Preparing: SELECT account_id, account_name, concat(ifnull(account_address,''), ' ', ifnull(account_address_detail,'')) as account_address, case account_type when 1 then '위탁급식' when 2 then '도소매' when 3 then '프랜차이즈' when 4 then '산업체' else '미분류' end as account_type, account_rqd_member, account_headcount FROM tb_account WHERE account_type in (1,2,4) ORDER BY account_type DESC
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - ==> Parameters: 
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - <==      Total: 56
2025-11-03 17:42:24 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4730efdb]
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601f98af] was not registered for synchronization because synchronization is not active
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1859680988 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - ==>  Preparing: SELECT account_id, year, month, ifnull(living_estimate,0) as living_estimate, ifnull(living_estimate_ratio,0) as living_estimate_ratio, ifnull(basic_estimate,0) as basic_estimate, ifnull(basic_estimate_ratio,0) as basic_estimate_ratio, ifnull(living_cost,0) as living_cost, ifnull(living_ratio,0) as living_ratio, ifnull(basic_cost,0) as basic_cost, ifnull(basic_ratio,0) as basic_ratio, ifnull(employ_cost,0) as employ_cost, ifnull(employ_ratio,0) as employ_ratio, ifnull(daycare_cost,0) as daycare_cost, ifnull(daycare_ratio,0) as daycare_ratio, ifnull(daycare_emp_cost,0) as daycare_emp_cost, ifnull(daycare_emp_ratio,0) as daycare_emp_ratio, ifnull(payback_price,0) as payback_price, ifnull(payback_ratio,0) as payback_ratio, ifnull(duty_secure,0) as duty_secure, ifnull(duty_secure_ratio,0) as duty_secure_ratio, ifnull(food_process,0) as food_process, ifnull(food_trash_ratio,0) as food_trash_ratio, ifnull(dishwasher,0) as dishwasher, ifnull(dishwasher_ratio,0) as dishwasher_ratio, ifnull(cesco,0) as cesco, ifnull(cesco_ratio,0) as cesco_ratio, ifnull(water_puri,0) as water_puri, ifnull(water_ratio,0) as water_ratio, ifnull(utility_bills,0) as utility_bills, ifnull(utility_ratio,0) as utility_ratio, ifnull(food_cost,0) as food_cost, ifnull(food_ratio,0) as food_ratio, ifnull(etc_cost,0) as etc_cost, ifnull(estimate_total,0) as estimate_total, ifnull(estimate_total_ratio,0) as estimate_total_ratio, ifnull(dispatch_cost,0) as dispatch_cost, ifnull(dispatch_ratio,0) as dispatch_ratio, ifnull(person_cost,0) as person_cost, ifnull(person_ratio,0) as person_ratio, ifnull(sales_total,0) as sales_total, ifnull(sales_total_ratio,0) as sales_total_ratio, ifnull(purchase_total,0) as purchase_total, ifnull(purchase_total_ratio,0) as purchase_total_ratio, ifnull(person_total,0) as person_total, ifnull(person_total_ratio,0) as person_total_ratio, ifnull(indirect_total,0) as indirect_total, ifnull(indirect_total_ratio,0) as indirect_total_ratio, ifnull(business_profit,0) as business_profit, ifnull(business_profit_ratio,0) as business_profit_ratio, DATE_FORMAT(update_dt, '%Y-%m-%d') AS update_dt FROM the_full.tb_account_managerment_table WHERE year = ? AND account_id = ?
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - ==> Parameters: 2025(String), 20250819193455(String)
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - <==      Total: 2
2025-11-03 17:42:24 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@601f98af]
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171de821] was not registered for synchronization because synchronization is not active
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@433722546 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG c.e.d.m.H.ProfitLossTableList - ==>  Preparing: SELECT account_id, year, month, ifnull(living_estimate,0) as living_estimate, ifnull(living_estimate_ratio,0) as living_estimate_ratio, ifnull(basic_estimate,0) as basic_estimate, ifnull(basic_estimate_ratio,0) as basic_estimate_ratio, ifnull(living_cost,0) as living_cost, ifnull(living_ratio,0) as living_ratio, ifnull(basic_cost,0) as basic_cost, ifnull(basic_ratio,0) as basic_ratio, ifnull(employ_cost,0) as employ_cost, ifnull(employ_ratio,0) as employ_ratio, ifnull(daycare_cost,0) as daycare_cost, ifnull(daycare_ratio,0) as daycare_ratio, ifnull(daycare_emp_cost,0) as daycare_emp_cost, ifnull(daycare_emp_ratio,0) as daycare_emp_ratio, ifnull(payback_price,0) as payback_price, ifnull(payback_ratio,0) as payback_ratio, ifnull(duty_secure,0) as duty_secure, ifnull(duty_secure_ratio,0) as duty_secure_ratio, ifnull(food_process,0) as food_process, ifnull(food_trash_ratio,0) as food_trash_ratio, ifnull(dishwasher,0) as dishwasher, ifnull(dishwasher_ratio,0) as dishwasher_ratio, ifnull(cesco,0) as cesco, ifnull(cesco_ratio,0) as cesco_ratio, ifnull(water_puri,0) as water_puri, ifnull(water_ratio,0) as water_ratio, ifnull(utility_bills,0) as utility_bills, ifnull(utility_ratio,0) as utility_ratio, ifnull(food_cost,0) as food_cost, ifnull(food_ratio,0) as food_ratio, ifnull(etc_cost,0) as etc_cost, ifnull(estimate_total,0) as estimate_total, ifnull(estimate_total_ratio,0) as estimate_total_ratio, ifnull(dispatch_cost,0) as dispatch_cost, ifnull(dispatch_ratio,0) as dispatch_ratio, ifnull(person_cost,0) as person_cost, ifnull(person_ratio,0) as person_ratio, ifnull(sales_total,0) as sales_total, ifnull(sales_total_ratio,0) as sales_total_ratio, ifnull(purchase_total,0) as purchase_total, ifnull(purchase_total_ratio,0) as purchase_total_ratio, ifnull(person_total,0) as person_total, ifnull(person_total_ratio,0) as person_total_ratio, ifnull(indirect_total,0) as indirect_total, ifnull(indirect_total_ratio,0) as indirect_total_ratio, ifnull(business_profit,0) as business_profit, ifnull(business_profit_ratio,0) as business_profit_ratio, DATE_FORMAT(update_dt, '%Y-%m-%d') AS update_dt FROM the_full.tb_account_managerment_table WHERE year = ? AND account_id = ?
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG c.e.d.m.H.ProfitLossTableList - ==> Parameters: 2025(String), 20250819193458(String)
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG c.e.d.m.H.ProfitLossTableList - <==      Total: 2
2025-11-03 17:46:41 [http-nio-8080-exec-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@171de821]
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6869535a] was not registered for synchronization because synchronization is not active
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1722720295 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG c.e.d.m.H.ProfitLossTableList - ==>  Preparing: SELECT account_id, year, month, ifnull(living_estimate,0) as living_estimate, ifnull(living_estimate_ratio,0) as living_estimate_ratio, ifnull(basic_estimate,0) as basic_estimate, ifnull(basic_estimate_ratio,0) as basic_estimate_ratio, ifnull(living_cost,0) as living_cost, ifnull(living_ratio,0) as living_ratio, ifnull(basic_cost,0) as basic_cost, ifnull(basic_ratio,0) as basic_ratio, ifnull(employ_cost,0) as employ_cost, ifnull(employ_ratio,0) as employ_ratio, ifnull(daycare_cost,0) as daycare_cost, ifnull(daycare_ratio,0) as daycare_ratio, ifnull(daycare_emp_cost,0) as daycare_emp_cost, ifnull(daycare_emp_ratio,0) as daycare_emp_ratio, ifnull(payback_price,0) as payback_price, ifnull(payback_ratio,0) as payback_ratio, ifnull(duty_secure,0) as duty_secure, ifnull(duty_secure_ratio,0) as duty_secure_ratio, ifnull(food_process,0) as food_process, ifnull(food_trash_ratio,0) as food_trash_ratio, ifnull(dishwasher,0) as dishwasher, ifnull(dishwasher_ratio,0) as dishwasher_ratio, ifnull(cesco,0) as cesco, ifnull(cesco_ratio,0) as cesco_ratio, ifnull(water_puri,0) as water_puri, ifnull(water_ratio,0) as water_ratio, ifnull(utility_bills,0) as utility_bills, ifnull(utility_ratio,0) as utility_ratio, ifnull(food_cost,0) as food_cost, ifnull(food_ratio,0) as food_ratio, ifnull(etc_cost,0) as etc_cost, ifnull(estimate_total,0) as estimate_total, ifnull(estimate_total_ratio,0) as estimate_total_ratio, ifnull(dispatch_cost,0) as dispatch_cost, ifnull(dispatch_ratio,0) as dispatch_ratio, ifnull(person_cost,0) as person_cost, ifnull(person_ratio,0) as person_ratio, ifnull(sales_total,0) as sales_total, ifnull(sales_total_ratio,0) as sales_total_ratio, ifnull(purchase_total,0) as purchase_total, ifnull(purchase_total_ratio,0) as purchase_total_ratio, ifnull(person_total,0) as person_total, ifnull(person_total_ratio,0) as person_total_ratio, ifnull(indirect_total,0) as indirect_total, ifnull(indirect_total_ratio,0) as indirect_total_ratio, ifnull(business_profit,0) as business_profit, ifnull(business_profit_ratio,0) as business_profit_ratio, DATE_FORMAT(update_dt, '%Y-%m-%d') AS update_dt FROM the_full.tb_account_managerment_table WHERE year = ? AND account_id = ?
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG c.e.d.m.H.ProfitLossTableList - ==> Parameters: 2025(String), 20250819193455(String)
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG c.e.d.m.H.ProfitLossTableList - <==      Total: 2
2025-11-03 17:46:43 [http-nio-8080-exec-6] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6869535a]
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2497bf83] was not registered for synchronization because synchronization is not active
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@709903713 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG c.e.d.m.A.AccountDeadlineBalanceList - ==>  Preparing: SELECT a.account_id, a.account_name, adb.year, adb.month, adb.balance_file, ifnull(adb.living_cost,0) as living_cost, ifnull(adb.basic_cost,0) as basic_cost, ifnull(adb.employ_cost,0) as employ_cost, adb.input_exp, ifnull(abp.balance_price,0) as balance_price, ifnull(abp.balance_price,0) as before_price, ifnull(abp.before_price,0) as before_price2 FROM tb_account a LEFT OUTER JOIN tb_account_deadline_balance adb ON adb.account_id = a.account_id AND adb.year = ? AND adb.month = ? LEFT OUTER JOIN tb_account_balance_price abp ON abp.account_id = a.account_id
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG c.e.d.m.A.AccountDeadlineBalanceList - ==> Parameters: 2025(String), 11(String)
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG c.e.d.m.A.AccountDeadlineBalanceList - <==      Total: 59
2025-11-03 17:53:53 [http-nio-8080-exec-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2497bf83]
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6974501e] was not registered for synchronization because synchronization is not active
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1739825984 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG c.e.d.m.H.PeopleCountingList - ==>  Preparing: SELECT a.account_id , a.account_name , adn.diner_date , ifnull(adn.total,0) as total FROM tb_account a LEFT OUTER JOIN tb_account_diners_number adn ON adn.account_id = a.account_id AND adn.diner_year = ? AND adn.diner_month = ? ORDER BY a.account_id, diner_date ASC
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG c.e.d.m.H.PeopleCountingList - ==> Parameters: 2025(String), 11(String)
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG c.e.d.m.H.PeopleCountingList - <==      Total: 88
2025-11-03 17:57:34 [http-nio-8080-exec-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6974501e]
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efe937e] was not registered for synchronization because synchronization is not active
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1243868016 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - ==>  Preparing: SELECT account_id, account_name, concat(ifnull(account_address,''), ' ', ifnull(account_address_detail,'')) as account_address, case account_type when 1 then '위탁급식' when 2 then '도소매' when 3 then '프랜차이즈' when 4 then '산업체' else '미분류' end as account_type, account_rqd_member, account_headcount FROM tb_account WHERE account_type in (1,2,4) ORDER BY account_type DESC
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - ==> Parameters: 
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG c.e.d.m.AccountMapper.AccountList - <==      Total: 56
2025-11-03 17:57:35 [http-nio-8080-exec-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efe937e]
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bacbc72] was not registered for synchronization because synchronization is not active
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1338675112 wrapping com.mysql.cj.jdbc.ConnectionImpl@994544] will not be managed by Spring
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - ==>  Preparing: SELECT account_id, year, month, ifnull(living_estimate,0) as living_estimate, ifnull(living_estimate_ratio,0) as living_estimate_ratio, ifnull(basic_estimate,0) as basic_estimate, ifnull(basic_estimate_ratio,0) as basic_estimate_ratio, ifnull(living_cost,0) as living_cost, ifnull(living_ratio,0) as living_ratio, ifnull(basic_cost,0) as basic_cost, ifnull(basic_ratio,0) as basic_ratio, ifnull(employ_cost,0) as employ_cost, ifnull(employ_ratio,0) as employ_ratio, ifnull(daycare_cost,0) as daycare_cost, ifnull(daycare_ratio,0) as daycare_ratio, ifnull(daycare_emp_cost,0) as daycare_emp_cost, ifnull(daycare_emp_ratio,0) as daycare_emp_ratio, ifnull(payback_price,0) as payback_price, ifnull(payback_ratio,0) as payback_ratio, ifnull(duty_secure,0) as duty_secure, ifnull(duty_secure_ratio,0) as duty_secure_ratio, ifnull(food_process,0) as food_process, ifnull(food_trash_ratio,0) as food_trash_ratio, ifnull(dishwasher,0) as dishwasher, ifnull(dishwasher_ratio,0) as dishwasher_ratio, ifnull(cesco,0) as cesco, ifnull(cesco_ratio,0) as cesco_ratio, ifnull(water_puri,0) as water_puri, ifnull(water_ratio,0) as water_ratio, ifnull(utility_bills,0) as utility_bills, ifnull(utility_ratio,0) as utility_ratio, ifnull(food_cost,0) as food_cost, ifnull(food_ratio,0) as food_ratio, ifnull(etc_cost,0) as etc_cost, ifnull(estimate_total,0) as estimate_total, ifnull(estimate_total_ratio,0) as estimate_total_ratio, ifnull(dispatch_cost,0) as dispatch_cost, ifnull(dispatch_ratio,0) as dispatch_ratio, ifnull(person_cost,0) as person_cost, ifnull(person_ratio,0) as person_ratio, ifnull(sales_total,0) as sales_total, ifnull(sales_total_ratio,0) as sales_total_ratio, ifnull(purchase_total,0) as purchase_total, ifnull(purchase_total_ratio,0) as purchase_total_ratio, ifnull(person_total,0) as person_total, ifnull(person_total_ratio,0) as person_total_ratio, ifnull(indirect_total,0) as indirect_total, ifnull(indirect_total_ratio,0) as indirect_total_ratio, ifnull(business_profit,0) as business_profit, ifnull(business_profit_ratio,0) as business_profit_ratio, DATE_FORMAT(update_dt, '%Y-%m-%d') AS update_dt FROM the_full.tb_account_managerment_table WHERE year = ? AND account_id = ?
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - ==> Parameters: 2025(String), 20250819193455(String)
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG c.e.d.m.H.ProfitLossTableList - <==      Total: 2
2025-11-03 17:57:35 [http-nio-8080-exec-3] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bacbc72]
2025-11-03 18:21:34 [RMI TCP Connection(43)-127.0.0.1] INFO  o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin - Application shutdown requested.
2025-11-03 18:21:34 [RMI TCP Connection(43)-127.0.0.1] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-03 18:21:34 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-03 18:21:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-03 18:21:34 [RMI TCP Connection(43)-127.0.0.1] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-03 18:21:35 [RMI TCP Connection(43)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-03 18:21:35 [RMI TCP Connection(43)-127.0.0.1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
